<!--
Author: Andrew Jarombek
Date: 1/28/2018
Create the HTML for the main page of the web app.  The template uses bootstrap 4
-->

<div>
    <!-- navbar : a wrapper for the bootstrap navigation bar -->
    <!-- navbar-dark & bg-dark : dark colored styling -->
    <!-- navbar-expand-sm : only show the mobile site navbar-toggler when screens are larger then small -->
    <!-- fixed-top : keeps the navbar at the top of the screen while scrolling -->
    <nav class="navbar navbar-expand-sm navbar-dark fixed-top bg-dark">
        <button id="mobile-nav" class="navbar-toggler navbar-left" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- navbar-brand : specify a brand title for the nav -->
        <a class="navbar-brand" [routerLink]="['/']">
            <img class="img-fluid logo" src="../assets/logoNoTitle.png">
            MeowPics
        </a>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- Specify the navigation items in the nav bar -->
            <!-- flex-sm-row : set a horizontal direction for the nav elements children -
                     becomes vertical on small screens -->
            <!-- mr-auto : Set the margin-right to auto -->
            <nav class="nav navbar-nav flex-sm-row mx-2 mr-auto">
                <!-- mx-4 : Specify the margin for each element -->
                <a class="nav-link mx-4" [hidden]="!auth.isAuthenticated"
                   [routerLink]="['/user/profile', auth.username || '']"
                   (click)="setUsernameToPass(auth.username)">Profile</a>
                <a class="nav-link mx-4" [hidden]="!auth.isAuthenticated"
                   [routerLink]="['/user/post']">Post</a>
                <a class="nav-link mx-4" [routerLink]="['/about']">About</a>
            </nav>
            <div id="nav-buttons" class="nav navbar-nav flex-row">
                <!-- Define two buttons with bootstrap basic styling -->
                <div class="btn btn-outline-secondary mx-1" id="login-button" [hidden]="auth.isAuthenticated">
                    <a [routerLink]="['/login']">Login</a>
                </div>
                <span>  </span>
                <div class="btn btn-outline-primary mx-1" id="signup-button" [hidden]="auth.isAuthenticated">
                    <a [routerLink]="['/signup']">Sign Up</a>
                </div>
                <div class="btn btn-outline-primary mx-1" id="signout-button"
                     [hidden]="!auth.isAuthenticated" (click)="logout()">
                    <a>Log Out</a>
                </div>
            </div>
        </div>
    </nav>
    <!-- Router Outlet is where the router will render the component -->
    <div id="main-component" class="container-fluid">
        <router-outlet></router-outlet>
    </div>
</div>